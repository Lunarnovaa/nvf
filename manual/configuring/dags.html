<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Using DAGs {#ch-using-dags}</title>
    <script>
      // Apply sidebar state immediately to prevent flash
      (function () {
        if (localStorage.getItem("sidebar-collapsed") === "true") {
          document.documentElement.classList.add("sidebar-collapsed");
        }
      })();
    </script>
    <link rel="stylesheet" href="../../assets/style.css" />
    <script defer src="../../assets/main.js"></script>
    
    <script defer src="../../assets/search.js"></script>
    
  </head>
  <body>
    <div class="container">
      <header>
        <div class="header-left">
          <h1 class="site-title">
            <a href="../../index.html">nvf</a>
          </h1>
        </div>
        <nav class="header-nav">
          <ul>
            <li >
              <a href="../../options.html">Options</a>
            </li>
            
            <li><a href="../../search.html">Search</a></li>
            
          </ul>
        </nav>
        
        <div class="search-container">
          <input type="text" id="search-input" placeholder="Search..." />
          <div id="search-results" class="search-results"></div>
        </div>
        
      </header>

      <div class="layout">
        <div class="sidebar-toggle" aria-label="Toggle sidebar">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            width="24"
            height="24"
          >
            <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"></path>
          </svg>
        </div>
        <nav class="sidebar">
          <div class="docs-nav">
            <h2>Documents</h2>
            <ul>
              <li><a href="../../release-notes/release-notes.html">Release Notes</a></li>
<li><a href="../../release-notes/rl-0.5.html">Release 0.5 {#sec-release-0.5}</a></li>
<li><a href="../../release-notes/rl-0.4.html">Release 0.4 {#sec-release-0.4}</a></li>
<li><a href="../../release-notes/rl-0.3.html">Release 0.3 {#sec-release-0.3}</a></li>
<li><a href="../../release-notes/rl-0.8.html">Release 0.8 {#sec-release-0.8}</a></li>
<li><a href="../../release-notes/rl-0.1.html">Release 0.1 {#sec-release-0.1}</a></li>
<li><a href="../../release-notes/rl-0.2.html">Release 0.2 {#sec-release-0.2}</a></li>
<li><a href="../../release-notes/rl-0.7.html">Release 0.7 {#sec-release-0.7}</a></li>
<li><a href="../../release-notes/rl-0.6.html">Release 0.6 {#sec-release-0.6}</a></li>
<li><a href="../../manual/installation/custom-configuration.html">Standalone Installation</a></li>
<li><a href="../../manual/installation/modules.html">Module Installation</a></li>
<li><a href="../../manual/installation/standalone/nixos.html">Standalone Installation on NixOS</a></li>
<li><a href="../../manual/installation/standalone/home-manager.html">Standalone Installation on Home-Manager</a></li>
<li><a href="../../manual/installation/modules/nixos.html">NixOS Module</a></li>
<li><a href="../../manual/installation/modules/home-manager.html">Home-Manager Module</a></li>
<li><a href="../../manual/quirks.html">Known Issues and Quirks</a></li>
<li><a href="../../manual/configuring.html">Configuring nvf</a></li>
<li><a href="../../manual/tips.html">Helpful Tips</a></li>
<li><a href="../../manual/try-it-out.html">Try it out</a></li>
<li><a href="../../manual/options.html">nvf Configuration Options</a></li>
<li><a href="../../manual/quirks/nodejs.html">NodeJS</a></li>
<li><a href="../../manual/configuring/languages.html">Language Support</a></li>
<li><a href="../../manual/configuring/autocmds.html">Autocommands and Autogroups</a></li>
<li><a href="../../manual/configuring/custom-package.html">Custom Neovim Package</a></li>
<li><a href="../../manual/configuring/overriding-plugins.html">Overriding plugins</a></li>
<li><a href="../../manual/configuring/languages/lsp.html">LSP Custom Packages/Command</a></li>
<li><a href="../../manual/configuring/custom-plugins.html">Custom Plugins</a></li>
<li><a href="../../manual/configuring/dag-entries.html">DAG entries in nvf</a></li>
<li><a href="../../manual/configuring/dags.html">Using DAGs</a></li>
<li><a href="../../manual/configuring/custom-plugins/non-lazy-method.html">Non-lazy Method</a></li>
<li><a href="../../manual/configuring/custom-plugins/configuring.html">Configuring</a></li>
<li><a href="../../manual/configuring/custom-plugins/legacy-method.html">Legacy Method</a></li>
<li><a href="../../manual/configuring/custom-plugins/lazy-method.html">Lazy Method</a></li>
<li><a href="../../manual/hacking/additional-plugins.html">Adding Plugins</a></li>
<li><a href="../../manual/hacking/getting-started.html">Getting Started</a></li>
<li><a href="../../manual/hacking/guidelines.html">Guidelines</a></li>
<li><a href="../../manual/hacking/testing.html">Testing Changes</a></li>
<li><a href="../../manual/hacking/keybinds.html">Keybinds</a></li>
<li><a href="../../manual/installation.html">Installing nvf</a></li>
<li><a href="../../manual/manual.html">nvf manual</a></li>
<li><a href="../../manual/hacking.html">Hacking nvf</a></li>
<li><a href="../../manual/tips/debugging-nvf.html">Debugging nvf</a></li>
<li><a href="../../manual/tips/offline-docs.html">Offline Documentation</a></li>
<li><a href="../../manual/tips/plugin-sources.html">Adding Plugins From Different Sources</a></li>
<li><a href="../../manual/tips/pure-lua-config.html">Pure Lua Configuration</a></li>
<li><a href="../../manual/preface.html">Preface</a></li>
<li><a href="../../search.html">Search</a></li>

            </ul>
          </div>

          <div class="toc">
            <h2>Contents</h2>
            <ul class="toc-list">
              <li><a href="#ch-using-dags">Using DAGs {#ch-using-dags}</a>
<ul><li><a href="#sec-types-dag-entryAnywhere">entryAnywhere {#sec-types-dag-entryAnywhere}</a>
<li><a href="#ch-types-dag-entryAfter">entryAfter {#ch-types-dag-entryAfter}</a>
<li><a href="#ch-types-dag-entryBefore">entryBefore {#ch-types-dag-entryBefore}</a>
<li><a href="#sec-types-dag-entryBetween">entryBetween {#sec-types-dag-entryBetween}</a>
<li><a href="#sec-types-dag-entriesAnywhere">entriesAnywhere {#sec-types-dag-entriesAnywhere}</a>
<li><a href="#sec-types-dag-entriesAfter">entriesAfter {#sec-types-dag-entriesAfter}</a>
<li><a href="#sec-types-dag-entriesBefore">entriesBefore {#sec-types-dag-entriesBefore}</a>
<li><a href="#sec-types-dag-entriesBetween">entriesBetween {#sec-types-dag-entriesBetween}</a>
</li></ul></li>
            </ul>
          </div>
        </nav>

        <main class="content"><h1 id="ch-using-dags"><a href="#using-dags-ch-using-dags" aria-hidden="true" class="anchor" id="using-dags-ch-using-dags"></a>Using DAGs</h1>
<p>We conform to the NixOS options types for the most part, however, a noteworthy
addition for certain options is the
<a href="<a href="https://en.wikipedia.org/wiki/Directed_acyclic_graph">https://en.wikipedia.org/wiki/Directed_acyclic_graph</a>"><strong>DAG (Directed acyclic graph)</strong></a>
type which is borrowed from home-manager's extended library. This type is most
used for topologically sorting strings. The DAG type allows the attribute set
entries to express dependency relations among themselves. This can, for example,
be used to control the order of configuration sections in your <code>luaConfigRC</code>.</p>
<p>The below section, mostly taken from the
<a href="<a href="https://raw.githubusercontent.com/nix-community/home-manager/master/docs/manual/writing-modules/types.md">https://raw.githubusercontent.com/nix-community/home-manager/master/docs/manual/writing-modules/types.md</a>">home-manager manual</a>
explains in more detail the overall usage logic of the DAG type.</p>
<h2 id="sec-types-dag-entryAnywhere"><a href="#entryanywhere-sec-types-dag-entryanywhere" aria-hidden="true" class="anchor" id="entryanywhere-sec-types-dag-entryanywhere"></a>entryAnywhere</h2>
<blockquote>
<p><code>lib.dag.entryAnywhere (value: T) : DagEntry&lt;T&gt;</code></p>
</blockquote>
<p>Indicates that <code>value</code> can be placed anywhere within the DAG. This is also the
default for plain attribute set entries, that is</p>
<pre><code class="language-nix">foo.bar = {
  a = lib.dag.entryAnywhere 0;
}
</code></pre>
<p>and</p>
<pre><code class="language-nix">foo.bar = {
  a = 0;
}
</code></pre>
<p>are equivalent.</p>
<h2 id="ch-types-dag-entryAfter"><a href="#entryafter-ch-types-dag-entryafter" aria-hidden="true" class="anchor" id="entryafter-ch-types-dag-entryafter"></a>entryAfter</h2>
<blockquote>
<p><code>lib.dag.entryAfter (afters: list string) (value: T) : DagEntry&lt;T&gt;</code></p>
</blockquote>
<p>Indicates that <code>value</code> must be placed <em>after</em> each of the attribute names in the
given list. For example</p>
<pre><code class="language-nix">foo.bar = {
  a = 0;
  b = lib.dag.entryAfter [ &quot;a&quot; ] 1;
}
</code></pre>
<p>would place <code>b</code> after <code>a</code> in the graph.</p>
<h2 id="ch-types-dag-entryBefore"><a href="#entrybefore-ch-types-dag-entrybefore" aria-hidden="true" class="anchor" id="entrybefore-ch-types-dag-entrybefore"></a>entryBefore</h2>
<blockquote>
<p><code>lib.dag.entryBefore (befores: list string) (value: T) : DagEntry&lt;T&gt;</code></p>
</blockquote>
<p>Indicates that <code>value</code> must be placed <em>before</em> each of the attribute names in
the given list. For example</p>
<pre><code class="language-nix">foo.bar = {
  b = lib.dag.entryBefore [ &quot;a&quot; ] 1;
  a = 0;
}
</code></pre>
<p>would place <code>b</code> before <code>a</code> in the graph.</p>
<h2 id="sec-types-dag-entryBetween"><a href="#entrybetween-sec-types-dag-entrybetween" aria-hidden="true" class="anchor" id="entrybetween-sec-types-dag-entrybetween"></a>entryBetween</h2>
<blockquote>
<p><code>lib.dag.entryBetween (befores: list string) (afters: list string) (value: T) : DagEntry&lt;T&gt;</code></p>
</blockquote>
<p>Indicates that <code>value</code> must be placed <em>before</em> the attribute names in the first
list and <em>after</em> the attribute names in the second list. For example</p>
<pre><code class="language-nix">foo.bar = {
  a = 0;
  c = lib.dag.entryBetween [ &quot;b&quot; ] [ &quot;a&quot; ] 2;
  b = 1;
}
</code></pre>
<p>would place <code>c</code> before <code>b</code> and after <code>a</code> in the graph.</p>
<p>There are also a set of functions that generate a DAG from a list. These are
convenient when you just want to have a linear list of DAG entries, without
having to manually enter the relationship between each entry. Each of these
functions take a <code>tag</code> as argument and the DAG entries will be named
`${tag}-$<span class="index-markup">.</p>
<h2 id="sec-types-dag-entriesAnywhere"><a href="#entriesanywhere-sec-types-dag-entriesanywhere" aria-hidden="true" class="anchor" id="entriesanywhere-sec-types-dag-entriesanywhere"></a>entriesAnywhere</h2>
<blockquote>
<p></span>lib.dag.entriesAnywhere (tag: string) (values: [T]) : Dag<T>`</p>
</blockquote>
<p>Creates a DAG with the given values with each entry labeled using the given tag.
For example</p>
<pre><code class="language-nix">foo.bar = lib.dag.entriesAnywhere &quot;a&quot; [ 0 1 ];
</code></pre>
<p>is equivalent to</p>
<pre><code class="language-nix">foo.bar = {
  a-0 = 0;
  a-1 = lib.dag.entryAfter [ &quot;a-0&quot; ] 1;
}
</code></pre>
<h2 id="sec-types-dag-entriesAfter"><a href="#entriesafter-sec-types-dag-entriesafter" aria-hidden="true" class="anchor" id="entriesafter-sec-types-dag-entriesafter"></a>entriesAfter</h2>
<blockquote>
<p><code>lib.dag.entriesAfter (tag: string) (afters: list string) (values: [T]) : Dag&lt;T&gt;</code></p>
</blockquote>
<p>Creates a DAG with the given values with each entry labeled using the given tag.
The list of values are placed are placed <em>after</em> each of the attribute names in
<code>afters</code>. For example</p>
<pre><code class="language-nix">foo.bar =
  { b = 0; } // lib.dag.entriesAfter &quot;a&quot; [ &quot;b&quot; ] [ 1 2 ];
</code></pre>
<p>is equivalent to</p>
<pre><code class="language-nix">foo.bar = {
  b = 0;
  a-0 = lib.dag.entryAfter [ &quot;b&quot; ] 1;
  a-1 = lib.dag.entryAfter [ &quot;a-0&quot; ] 2;
}
</code></pre>
<h2 id="sec-types-dag-entriesBefore"><a href="#entriesbefore-sec-types-dag-entriesbefore" aria-hidden="true" class="anchor" id="entriesbefore-sec-types-dag-entriesbefore"></a>entriesBefore</h2>
<blockquote>
<p><code>lib.dag.entriesBefore (tag: string) (befores: list string) (values: [T]) : Dag&lt;T&gt;</code></p>
</blockquote>
<p>Creates a DAG with the given values with each entry labeled using the given tag.
The list of values are placed <em>before</em> each of the attribute names in <code>befores</code>.
For example</p>
<pre><code class="language-nix">foo.bar =
  { b = 0; } // lib.dag.entriesBefore &quot;a&quot; [ &quot;b&quot; ] [ 1 2 ];
</code></pre>
<p>is equivalent to</p>
<pre><code class="language-nix">foo.bar = {
  b = 0;
  a-0 = 1;
  a-1 = lib.dag.entryBetween [ &quot;b&quot; ] [ &quot;a-0&quot; ] 2;
}
</code></pre>
<h2 id="sec-types-dag-entriesBetween"><a href="#entriesbetween-sec-types-dag-entriesbetween" aria-hidden="true" class="anchor" id="entriesbetween-sec-types-dag-entriesbetween"></a>entriesBetween</h2>
<blockquote>
<p><code>lib.dag.entriesBetween (tag: string) (befores: list string) (afters: list string) (values: [T]) : Dag&lt;T&gt;</code></p>
</blockquote>
<p>Creates a DAG with the given values with each entry labeled using the given tag.
The list of values are placed <em>before</em> each of the attribute names in <code>befores</code>
and <em>after</em> each of the attribute names in <code>afters</code>. For example</p>
<pre><code class="language-nix">foo.bar =
  { b = 0; c = 3; } // lib.dag.entriesBetween &quot;a&quot; [ &quot;b&quot; ] [ &quot;c&quot; ] [ 1 2 ];
</code></pre>
<p>is equivalent to</p>
<pre><code class="language-nix">foo.bar = {
  b = 0;
  c = 3;
  a-0 = lib.dag.entryAfter [ &quot;c&quot; ] 1;
  a-1 = lib.dag.entryBetween [ &quot;b&quot; ] [ &quot;a-0&quot; ] 2;
}
</code></pre>
</main>
      </div>

      <footer>
        <p></p>
      </footer>
    </div>

    
  </body>
</html>
