<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Configuring nvf {#ch-configuring}</title>
    <script>
      // Apply sidebar state immediately to prevent flash
      (function () {
        if (localStorage.getItem("sidebar-collapsed") === "true") {
          document.documentElement.classList.add("sidebar-collapsed");
        }
      })();
    </script>
    <link rel="stylesheet" href="../assets/style.css" />
    <script defer src="../assets/main.js"></script>
    
    <script defer src="../assets/search.js"></script>
    
  </head>
  <body>
    <div class="container">
      <header>
        <div class="header-left">
          <h1 class="site-title">
            <a href="../index.html">nvf</a>
          </h1>
        </div>
        <nav class="header-nav">
          <ul>
            <li >
              <a href="../options.html">Options</a>
            </li>
            
            <li><a href="../search.html">Search</a></li>
            
          </ul>
        </nav>
        
        <div class="search-container">
          <input type="text" id="search-input" placeholder="Search..." />
          <div id="search-results" class="search-results"></div>
        </div>
        
      </header>

      <div class="layout">
        <div class="sidebar-toggle" aria-label="Toggle sidebar">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            width="24"
            height="24"
          >
            <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"></path>
          </svg>
        </div>
        <nav class="sidebar">
          <div class="docs-nav">
            <h2>Documents</h2>
            <ul>
              <li><a href="../release-notes/release-notes.html">Release Notes</a></li>
<li><a href="../release-notes/rl-0.5.html">Release 0.5 {#sec-release-0.5}</a></li>
<li><a href="../release-notes/rl-0.4.html">Release 0.4 {#sec-release-0.4}</a></li>
<li><a href="../release-notes/rl-0.3.html">Release 0.3 {#sec-release-0.3}</a></li>
<li><a href="../release-notes/rl-0.8.html">Release 0.8 {#sec-release-0.8}</a></li>
<li><a href="../release-notes/rl-0.1.html">Release 0.1 {#sec-release-0.1}</a></li>
<li><a href="../release-notes/rl-0.2.html">Release 0.2 {#sec-release-0.2}</a></li>
<li><a href="../release-notes/rl-0.7.html">Release 0.7 {#sec-release-0.7}</a></li>
<li><a href="../release-notes/rl-0.6.html">Release 0.6 {#sec-release-0.6}</a></li>
<li><a href="../manual/installation/custom-configuration.html">Standalone Installation</a></li>
<li><a href="../manual/installation/modules.html">Module Installation</a></li>
<li><a href="../manual/installation/standalone/nixos.html">Standalone Installation on NixOS</a></li>
<li><a href="../manual/installation/standalone/home-manager.html">Standalone Installation on Home-Manager</a></li>
<li><a href="../manual/installation/modules/nixos.html">NixOS Module</a></li>
<li><a href="../manual/installation/modules/home-manager.html">Home-Manager Module</a></li>
<li><a href="../manual/quirks.html">Known Issues and Quirks</a></li>
<li><a href="../manual/configuring.html">Configuring nvf</a></li>
<li><a href="../manual/tips.html">Helpful Tips</a></li>
<li><a href="../manual/try-it-out.html">Try it out</a></li>
<li><a href="../manual/options.html">nvf Configuration Options</a></li>
<li><a href="../manual/quirks/nodejs.html">NodeJS</a></li>
<li><a href="../manual/configuring/languages.html">Language Support</a></li>
<li><a href="../manual/configuring/autocmds.html">Autocommands and Autogroups</a></li>
<li><a href="../manual/configuring/custom-package.html">Custom Neovim Package</a></li>
<li><a href="../manual/configuring/overriding-plugins.html">Overriding plugins</a></li>
<li><a href="../manual/configuring/languages/lsp.html">LSP Custom Packages/Command</a></li>
<li><a href="../manual/configuring/custom-plugins.html">Custom Plugins</a></li>
<li><a href="../manual/configuring/dag-entries.html">DAG entries in nvf</a></li>
<li><a href="../manual/configuring/dags.html">Using DAGs</a></li>
<li><a href="../manual/configuring/custom-plugins/non-lazy-method.html">Non-lazy Method</a></li>
<li><a href="../manual/configuring/custom-plugins/configuring.html">Configuring</a></li>
<li><a href="../manual/configuring/custom-plugins/legacy-method.html">Legacy Method</a></li>
<li><a href="../manual/configuring/custom-plugins/lazy-method.html">Lazy Method</a></li>
<li><a href="../manual/hacking/additional-plugins.html">Adding Plugins</a></li>
<li><a href="../manual/hacking/getting-started.html">Getting Started</a></li>
<li><a href="../manual/hacking/guidelines.html">Guidelines</a></li>
<li><a href="../manual/hacking/testing.html">Testing Changes</a></li>
<li><a href="../manual/hacking/keybinds.html">Keybinds</a></li>
<li><a href="../manual/installation.html">Installing nvf</a></li>
<li><a href="../manual/manual.html">nvf manual</a></li>
<li><a href="../manual/hacking.html">Hacking nvf</a></li>
<li><a href="../manual/tips/debugging-nvf.html">Debugging nvf</a></li>
<li><a href="../manual/tips/offline-docs.html">Offline Documentation</a></li>
<li><a href="../manual/tips/plugin-sources.html">Adding Plugins From Different Sources</a></li>
<li><a href="../manual/tips/pure-lua-config.html">Pure Lua Configuration</a></li>
<li><a href="../manual/preface.html">Preface</a></li>
<li><a href="../search.html">Search</a></li>

            </ul>
          </div>

          <div class="toc">
            <h2>Contents</h2>
            <ul class="toc-list">
              <li><a href="#ch-configuring">Configuring nvf {#ch-configuring}</a>
<li><a href="#ch-custom-package">Custom Neovim Package {#ch-custom-package}</a>
<li><a href="#ch-custom-plugins">Custom Plugins {#ch-custom-plugins}</a>
<ul><li><a href="#ch-adding-plugins">Adding Plugins {#ch-adding-plugins}</a>
</ul><li><a href="#ch-overriding-plugins">Overriding plugins {#ch-overriding-plugins}</a>
<li><a href="#ch-using-dags">Using DAGs {#ch-using-dags}</a>
<ul><li><a href="#sec-types-dag-entryAnywhere">entryAnywhere {#sec-types-dag-entryAnywhere}</a>
<li><a href="#ch-types-dag-entryAfter">entryAfter {#ch-types-dag-entryAfter}</a>
<li><a href="#ch-types-dag-entryBefore">entryBefore {#ch-types-dag-entryBefore}</a>
<li><a href="#sec-types-dag-entryBetween">entryBetween {#sec-types-dag-entryBetween}</a>
<li><a href="#sec-types-dag-entriesAnywhere">entriesAnywhere {#sec-types-dag-entriesAnywhere}</a>
<li><a href="#sec-types-dag-entriesAfter">entriesAfter {#sec-types-dag-entriesAfter}</a>
<li><a href="#sec-types-dag-entriesBefore">entriesBefore {#sec-types-dag-entriesBefore}</a>
<li><a href="#sec-types-dag-entriesBetween">entriesBetween {#sec-types-dag-entriesBetween}</a>
</ul><li><a href="#ch-dag-entries">DAG entries in nvf {#ch-dag-entries}</a>
<ul><li><a href="#vim-luaconfigrc--top-level-dag----ch-vim-luaconfigrc">vim.luaConfigRC (top-level DAG) {#ch-vim-luaconfigrc}</a>
</ul><li><a href="#ch-autocmds-augroups">Autocommands and Autogroups {#ch-autocmds-augroups}</a>
<ul><li><a href="#autogroups--vim-augroups----sec-vim-augroups">Autogroups (vim.augroups) {#sec-vim-augroups}</a>
<li><a href="#autocommands--vim-autocmds----sec-vim-autocmds">Autocommands (vim.autocmds) {#sec-vim-autocmds}</a>
</li></ul></li>
            </ul>
          </div>
        </nav>

        <main class="content"><h1 id="ch-configuring"><a href="#configuring-nvf-ch-configuring" aria-hidden="true" class="anchor" id="configuring-nvf-ch-configuring"></a>Configuring nvf</h1>
<p>nvf allows for <em>very</em> extensive configuration in Neovim through the Nix module
interface. The below chapters describe several of the options exposed in nvf for
your convenience. You might also be interested in the <a href="#ch-helpful-tips">helpful tips section</a> for
more advanced or unusual configuration options supported by nvf.</p>
<p>Note that this section does not cover module <em>options</em>. For an overview of all
module options provided by nvf, please visit the <a href="/options.html">appendix</a></p>
<h1 id="ch-custom-package"><a href="#custom-neovim-package-ch-custom-package" aria-hidden="true" class="anchor" id="custom-neovim-package-ch-custom-package"></a>Custom Neovim Package</h1>
<p>As of v0.5, you may now specify the Neovim package that will be wrapped with
your configuration. This is done with the <a href="#opt-vim.package"></a> option.</p>
<pre><code class="language-nix">{inputs, pkgs, ...}: {
  # using the neovim-nightly overlay
  vim.package = inputs.neovim-overlay.packages.${pkgs.stdenv.system}.neovim;
}
</code></pre>
<p>The neovim-nightly-overlay always exposes an unwrapped package. If using a
different source, you are highly recommended to get an &quot;unwrapped&quot; version of
the neovim package, similar to <code>neovim-unwrapped</code> in nixpkgs.</p>
<pre><code class="language-nix">{ pkgs, ...}: {
  # using the neovim-nightly overlay
  vim.package = pkgs.neovim-unwrapped;
}
</code></pre>
<h1 id="ch-custom-plugins"><a href="#custom-plugins-ch-custom-plugins" aria-hidden="true" class="anchor" id="custom-plugins-ch-custom-plugins"></a>Custom Plugins</h1>
<p><strong>nvf</strong> exposes a very wide variety of plugins by default, which are consumed by
module options. This is done for your convenience, and to bundle all necessary
dependencies into <strong>nvf</strong>'s runtime with full control of versioning, testing and
dependencies. In the case a plugin you need is <em>not</em> available, you may consider
making a pull request to add the package you're looking for, or you may add it
to your configuration locally. The below section describes how new plugins may
be added to the user's configuration.</p>
<h2 id="ch-adding-plugins"><a href="#adding-plugins-ch-adding-plugins" aria-hidden="true" class="anchor" id="adding-plugins-ch-adding-plugins"></a>Adding Plugins</h2>
<p>Per <strong>nvf</strong>'s design choices, there are several ways of adding custom plugins to
your configuration as you need them. As we aim for extensive configuration, it
is possible to add custom plugins (from nixpkgs, pinning tools, flake inputs,
etc.) to your Neovim configuration before they are even implemented in <strong>nvf</strong>
as a module.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>To add a plugin to your runtime, you will need to add it to
<a href="#opt-vim.startPlugins"></a> list in your configuration. This is akin to cloning a
plugin to <code>~/.config/nvim</code>, but they are only ever placed in the Nix store and
never exposed to the outside world for purity and full isolation.</p>
</div>
<p>As you would configure a cloned plugin, you must configure the new plugins that
you've added to <code>startPlugins.</code> <strong>nvf</strong> provides multiple ways of configuring
any custom plugins that you might have added to your configuration.</p>
<pre><code class="language-{=include=}">custom-plugins/configuring.md
custom-plugins/lazy-method.md
custom-plugins/non-lazy-method.md
custom-plugins/legacy-method.md
</code></pre>
<h1 id="ch-overriding-plugins"><a href="#overriding-plugins-ch-overriding-plugins" aria-hidden="true" class="anchor" id="overriding-plugins-ch-overriding-plugins"></a>Overriding plugins</h1>
<p>The <a href="#sec-additional-plugins">additional plugins section</a> details the addition
of new plugins to nvf under regular circumstances, i.e. while making a pull
request to the project. You may <em>override</em> those plugins in your config
to change source versions, e.g., to use newer versions of plugins
that are not yet updated in <strong>nvf</strong>.</p>
<pre><code class="language-nix">vim.pluginOverrides = {
  lazydev-nvim = pkgs.fetchFromGitHub {
    owner = &quot;folke&quot;;
    repo = &quot;lazydev.nvim&quot;;
    rev = &quot;&quot;;
    hash = &quot;&quot;;
  };
 # It's also possible to use a flake input
 lazydev-nvim = inputs.lazydev-nvim;
 # Or a local path 
 lazydev-nvim = ./lazydev;
 # Or a npins pin... etc
};
</code></pre>
<p>This will override the source for the <a href="options.html#option-neodev-nvim" class="option-reference"><code>neodev.nvim</code></a> plugin that is used in nvf
with your own plugin.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>While updating plugin inputs, make sure that any configuration that has been
deprecated in newer versions is changed in the pluginâ€™s <code>setupOpts</code>. If you
depend on a new version, requesting a version bump in the issues section is a
more reliable option.</p>
</div>
# Language Support {#ch-languages}
<p>Language specific support means there is a combination of language specific
plugins, <code>treesitter</code> support, <code>nvim-lspconfig</code> language servers, and <code>null-ls</code>
integration. This gets you capabilities ranging from autocompletion to
formatting to diagnostics. The following languages have sections under the
<a href="options.html#option-vim-languages" class="option-reference"><code>vim.languages</code></a> attribute.</p>
<ul>
<li>Rust: <a href="#opt-vim.languages.rust.enable">vim.languages.rust.enable</a></li>
<li>Nix: <a href="#opt-vim.languages.nix.enable">vim.languages.nix.enable</a></li>
<li>SQL: <a href="#opt-vim.languages.sql.enable">vim.languages.sql.enable</a></li>
<li>C/C++: <a href="#opt-vim.languages.clang.enable">vim.languages.clang.enable</a></li>
<li>Typescript/Javascript: <a href="#opt-vim.languages.ts.enable">vim.languages.ts.enable</a></li>
<li>Python: <a href="#opt-vim.languages.python.enable">vim.languages.python.enable</a>:</li>
<li>Zig: <a href="#opt-vim.languages.zig.enable">vim.languages.zig.enable</a></li>
<li>Markdown: <a href="#opt-vim.languages.markdown.enable">vim.languages.markdown.enable</a></li>
<li>HTML: <a href="#opt-vim.languages.html.enable">vim.languages.html.enable</a></li>
<li>Dart: <a href="#opt-vim.languages.dart.enable">vim.languages.dart.enable</a></li>
<li>Go: <a href="#opt-vim.languages.go.enable">vim.languages.go.enable</a></li>
<li>Lua: <a href="#opt-vim.languages.lua.enable">vim.languages.lua.enable</a></li>
<li>PHP: <a href="#opt-vim.languages.php.enable">vim.languages.php.enable</a></li>
<li>F#: <a href="#opt-vim.languages.fsharp.enable">vim.languages.fsharp.enable</a></li>
</ul>
<p>Adding support for more languages, and improving support for existing ones are
great places where you can contribute with a PR.</p>
<pre><code class="language-{=include=}">languages/lsp.md
</code></pre>
<h1 id="ch-using-dags"><a href="#using-dags-ch-using-dags" aria-hidden="true" class="anchor" id="using-dags-ch-using-dags"></a>Using DAGs</h1>
<p>We conform to the NixOS options types for the most part, however, a noteworthy
addition for certain options is the
<a href="<a href="https://en.wikipedia.org/wiki/Directed_acyclic_graph">https://en.wikipedia.org/wiki/Directed_acyclic_graph</a>"><strong>DAG (Directed acyclic graph)</strong></a>
type which is borrowed from home-manager's extended library. This type is most
used for topologically sorting strings. The DAG type allows the attribute set
entries to express dependency relations among themselves. This can, for example,
be used to control the order of configuration sections in your <code>luaConfigRC</code>.</p>
<p>The below section, mostly taken from the
<a href="<a href="https://raw.githubusercontent.com/nix-community/home-manager/master/docs/manual/writing-modules/types.md">https://raw.githubusercontent.com/nix-community/home-manager/master/docs/manual/writing-modules/types.md</a>">home-manager manual</a>
explains in more detail the overall usage logic of the DAG type.</p>
<h2 id="sec-types-dag-entryAnywhere"><a href="#entryanywhere-sec-types-dag-entryanywhere" aria-hidden="true" class="anchor" id="entryanywhere-sec-types-dag-entryanywhere"></a>entryAnywhere</h2>
<blockquote>
<p><code>lib.dag.entryAnywhere (value: T) : DagEntry&lt;T&gt;</code></p>
</blockquote>
<p>Indicates that <code>value</code> can be placed anywhere within the DAG. This is also the
default for plain attribute set entries, that is</p>
<pre><code class="language-nix">foo.bar = {
  a = lib.dag.entryAnywhere 0;
}
</code></pre>
<p>and</p>
<pre><code class="language-nix">foo.bar = {
  a = 0;
}
</code></pre>
<p>are equivalent.</p>
<h2 id="ch-types-dag-entryAfter"><a href="#entryafter-ch-types-dag-entryafter" aria-hidden="true" class="anchor" id="entryafter-ch-types-dag-entryafter"></a>entryAfter</h2>
<blockquote>
<p><code>lib.dag.entryAfter (afters: list string) (value: T) : DagEntry&lt;T&gt;</code></p>
</blockquote>
<p>Indicates that <code>value</code> must be placed <em>after</em> each of the attribute names in the
given list. For example</p>
<pre><code class="language-nix">foo.bar = {
  a = 0;
  b = lib.dag.entryAfter [ &quot;a&quot; ] 1;
}
</code></pre>
<p>would place <code>b</code> after <code>a</code> in the graph.</p>
<h2 id="ch-types-dag-entryBefore"><a href="#entrybefore-ch-types-dag-entrybefore" aria-hidden="true" class="anchor" id="entrybefore-ch-types-dag-entrybefore"></a>entryBefore</h2>
<blockquote>
<p><code>lib.dag.entryBefore (befores: list string) (value: T) : DagEntry&lt;T&gt;</code></p>
</blockquote>
<p>Indicates that <code>value</code> must be placed <em>before</em> each of the attribute names in
the given list. For example</p>
<pre><code class="language-nix">foo.bar = {
  b = lib.dag.entryBefore [ &quot;a&quot; ] 1;
  a = 0;
}
</code></pre>
<p>would place <code>b</code> before <code>a</code> in the graph.</p>
<h2 id="sec-types-dag-entryBetween"><a href="#entrybetween-sec-types-dag-entrybetween" aria-hidden="true" class="anchor" id="entrybetween-sec-types-dag-entrybetween"></a>entryBetween</h2>
<blockquote>
<p><code>lib.dag.entryBetween (befores: list string) (afters: list string) (value: T) : DagEntry&lt;T&gt;</code></p>
</blockquote>
<p>Indicates that <code>value</code> must be placed <em>before</em> the attribute names in the first
list and <em>after</em> the attribute names in the second list. For example</p>
<pre><code class="language-nix">foo.bar = {
  a = 0;
  c = lib.dag.entryBetween [ &quot;b&quot; ] [ &quot;a&quot; ] 2;
  b = 1;
}
</code></pre>
<p>would place <code>c</code> before <code>b</code> and after <code>a</code> in the graph.</p>
<p>There are also a set of functions that generate a DAG from a list. These are
convenient when you just want to have a linear list of DAG entries, without
having to manually enter the relationship between each entry. Each of these
functions take a <code>tag</code> as argument and the DAG entries will be named
`${tag}-$<span class="index-markup">.</p>
<h2 id="sec-types-dag-entriesAnywhere"><a href="#entriesanywhere-sec-types-dag-entriesanywhere" aria-hidden="true" class="anchor" id="entriesanywhere-sec-types-dag-entriesanywhere"></a>entriesAnywhere</h2>
<blockquote>
<p></span>lib.dag.entriesAnywhere (tag: string) (values: [T]) : Dag<T>`</p>
</blockquote>
<p>Creates a DAG with the given values with each entry labeled using the given tag.
For example</p>
<pre><code class="language-nix">foo.bar = lib.dag.entriesAnywhere &quot;a&quot; [ 0 1 ];
</code></pre>
<p>is equivalent to</p>
<pre><code class="language-nix">foo.bar = {
  a-0 = 0;
  a-1 = lib.dag.entryAfter [ &quot;a-0&quot; ] 1;
}
</code></pre>
<h2 id="sec-types-dag-entriesAfter"><a href="#entriesafter-sec-types-dag-entriesafter" aria-hidden="true" class="anchor" id="entriesafter-sec-types-dag-entriesafter"></a>entriesAfter</h2>
<blockquote>
<p><code>lib.dag.entriesAfter (tag: string) (afters: list string) (values: [T]) : Dag&lt;T&gt;</code></p>
</blockquote>
<p>Creates a DAG with the given values with each entry labeled using the given tag.
The list of values are placed are placed <em>after</em> each of the attribute names in
<code>afters</code>. For example</p>
<pre><code class="language-nix">foo.bar =
  { b = 0; } // lib.dag.entriesAfter &quot;a&quot; [ &quot;b&quot; ] [ 1 2 ];
</code></pre>
<p>is equivalent to</p>
<pre><code class="language-nix">foo.bar = {
  b = 0;
  a-0 = lib.dag.entryAfter [ &quot;b&quot; ] 1;
  a-1 = lib.dag.entryAfter [ &quot;a-0&quot; ] 2;
}
</code></pre>
<h2 id="sec-types-dag-entriesBefore"><a href="#entriesbefore-sec-types-dag-entriesbefore" aria-hidden="true" class="anchor" id="entriesbefore-sec-types-dag-entriesbefore"></a>entriesBefore</h2>
<blockquote>
<p><code>lib.dag.entriesBefore (tag: string) (befores: list string) (values: [T]) : Dag&lt;T&gt;</code></p>
</blockquote>
<p>Creates a DAG with the given values with each entry labeled using the given tag.
The list of values are placed <em>before</em> each of the attribute names in <code>befores</code>.
For example</p>
<pre><code class="language-nix">foo.bar =
  { b = 0; } // lib.dag.entriesBefore &quot;a&quot; [ &quot;b&quot; ] [ 1 2 ];
</code></pre>
<p>is equivalent to</p>
<pre><code class="language-nix">foo.bar = {
  b = 0;
  a-0 = 1;
  a-1 = lib.dag.entryBetween [ &quot;b&quot; ] [ &quot;a-0&quot; ] 2;
}
</code></pre>
<h2 id="sec-types-dag-entriesBetween"><a href="#entriesbetween-sec-types-dag-entriesbetween" aria-hidden="true" class="anchor" id="entriesbetween-sec-types-dag-entriesbetween"></a>entriesBetween</h2>
<blockquote>
<p><code>lib.dag.entriesBetween (tag: string) (befores: list string) (afters: list string) (values: [T]) : Dag&lt;T&gt;</code></p>
</blockquote>
<p>Creates a DAG with the given values with each entry labeled using the given tag.
The list of values are placed <em>before</em> each of the attribute names in <code>befores</code>
and <em>after</em> each of the attribute names in <code>afters</code>. For example</p>
<pre><code class="language-nix">foo.bar =
  { b = 0; c = 3; } // lib.dag.entriesBetween &quot;a&quot; [ &quot;b&quot; ] [ &quot;c&quot; ] [ 1 2 ];
</code></pre>
<p>is equivalent to</p>
<pre><code class="language-nix">foo.bar = {
  b = 0;
  c = 3;
  a-0 = lib.dag.entryAfter [ &quot;c&quot; ] 1;
  a-1 = lib.dag.entryBetween [ &quot;b&quot; ] [ &quot;a-0&quot; ] 2;
}
</code></pre>
<h1 id="ch-dag-entries"><a href="#dag-entries-in-nvf-ch-dag-entries" aria-hidden="true" class="anchor" id="dag-entries-in-nvf-ch-dag-entries"></a>DAG entries in nvf</h1>
<p>From the previous chapter, it should be clear that DAGs are useful, because you
can add code that relies on other code. However, if you don't know what the
entries are called, it's hard to do that, so here is a list of the internal
entries in nvf:</p>
<h2 id="ch-vim-luaconfigrc"><a href="#vimluaconfigrc-top-level-dag-ch-vim-luaconfigrc" aria-hidden="true" class="anchor" id="vimluaconfigrc-top-level-dag-ch-vim-luaconfigrc"></a><a href="options.html#option-vim-luaConfigRC" class="option-reference"><code>vim.luaConfigRC</code></a> (top-level DAG)</h2>
<ol>
<li>(<code>luaConfigPre</code>) - not a part of the actual DAG, instead, it's simply
inserted before the rest of the DAG</li>
<li><code>globalsScript</code> - used to set globals defined in <a href="options.html#option-vim-globals" class="option-reference"><code>vim.globals</code></a></li>
<li><code>basic</code> - used to set basic configuration options</li>
<li><code>optionsScript</code> - used to set options defined in <a href="options.html#option-vim-o" class="option-reference"><code>vim.o</code></a></li>
<li><code>theme</code> (this is simply placed before <code>pluginConfigs</code> and <code>lazyConfigs</code>,
meaning that surrounding entries don't depend on it) - used to set up the
theme, which has to be done before other plugins</li>
<li><code>lazyConfigs</code> - <a href="options.html#option-lz-n" class="option-reference"><code>lz.n</code></a> and <code>lzn-auto-require</code> configs. If <a href="options.html#option-vim-lazy-enable" class="option-reference"><code>vim.lazy.enable</code></a>
is false, this will contain each plugin's config instead.</li>
<li><code>pluginConfigs</code> - the result of the nested <a href="options.html#option-vim-pluginRC" class="option-reference"><code>vim.pluginRC</code></a> (internal option,
see the <a href="/index.xhtml#ch-custom-plugins">Custom Plugins</a> page for adding your
own plugins) DAG, used to set up internal plugins</li>
<li><code>extraPluginConfigs</code> - the result of <a href="options.html#option-vim-extraPlugins" class="option-reference"><code>vim.extraPlugins</code></a>, which is not a
direct DAG, but is converted to, and resolved as one internally</li>
<li><code>mappings</code> - the result of <a href="options.html#option-vim-maps" class="option-reference"><code>vim.maps</code></a></li>
</ol>
<h1 id="ch-autocmds-augroups"><a href="#autocommands-and-autogroups-ch-autocmds-augroups" aria-hidden="true" class="anchor" id="autocommands-and-autogroups-ch-autocmds-augroups"></a>Autocommands and Autogroups</h1>
<p>This module allows you to declaratively configure Neovim autocommands and
autogroups within your Nix configuration.</p>
<h2 id="sec-vim-augroups"><a href="#autogroups-vimaugroups-sec-vim-augroups" aria-hidden="true" class="anchor" id="autogroups-vimaugroups-sec-vim-augroups"></a>Autogroups (<a href="options.html#option-vim-augroups" class="option-reference"><code>vim.augroups</code></a>)</h2>
<p>Autogroups (<code>augroup</code>) organize related autocommands. This allows them to be
managed collectively, such as clearing them all at once to prevent duplicates.
Each entry in the list is a submodule with the following options:</p>
<table>
<thead>
<tr>
<th align="left">Option</th>
<th align="left">Type</th>
<th align="left">Default</th>
<th align="left">Description</th>
<th align="left">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>enable</code></td>
<td align="left"><code>bool</code></td>
<td align="left"><code>true</code></td>
<td align="left">Enables or disables this autogroup definition.</td>
<td align="left"><code>true</code></td>
</tr>
<tr>
<td align="left"><code>name</code></td>
<td align="left"><code>str</code></td>
<td align="left"><em>None</em></td>
<td align="left"><strong>Required.</strong> The unique name for the autogroup.</td>
<td align="left"><code>&quot;MyFormatGroup&quot;</code></td>
</tr>
<tr>
<td align="left"><code>clear</code></td>
<td align="left"><code>bool</code></td>
<td align="left"><code>true</code></td>
<td align="left">Clears any existing autocommands within this group before adding new ones defined in <a href="options.html#option-vim-autocmds" class="option-reference"><code>vim.autocmds</code></a>.</td>
<td align="left"><code>true</code></td>
</tr>
</tbody>
</table>
<p><strong>Example:</strong></p>
<pre><code class="language-nix">{
  vim.augroups = [
    {
      name = &quot;MyCustomAuGroup&quot;;
      clear = true; # Clear previous autocommands in this group on reload
    }
    {
      name = &quot;Formatting&quot;;
      # clear defaults to true
    }
  ];
}
</code></pre>
<h2 id="sec-vim-autocmds"><a href="#autocommands-vimautocmds-sec-vim-autocmds" aria-hidden="true" class="anchor" id="autocommands-vimautocmds-sec-vim-autocmds"></a>Autocommands (<a href="options.html#option-vim-autocmds" class="option-reference"><code>vim.autocmds</code></a>)</h2>
<p>Autocommands (<code>autocmd</code>) trigger actions based on events happening within Neovim
(e.g., saving a file, entering a buffer). Each entry in the list is a submodule
with the following options:</p>
<table>
<thead>
<tr>
<th align="left">Option</th>
<th align="left">Type</th>
<th align="left">Default</th>
<th align="left">Description</th>
<th align="left">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>enable</code></td>
<td align="left"><code>bool</code></td>
<td align="left"><code>true</code></td>
<td align="left">Enables or disables this autocommand definition.</td>
<td align="left"><code>true</code></td>
</tr>
<tr>
<td align="left"><code>event</code></td>
<td align="left"><code>nullOr (listOf str)</code></td>
<td align="left"><code>null</code></td>
<td align="left"><strong>Required.</strong> List of Neovim events that trigger this autocommand (e.g., <code>BufWritePre</code>, <code>FileType</code>).</td>
<td align="left"><code>[ &quot;BufWritePre&quot; ]</code></td>
</tr>
<tr>
<td align="left"><code>pattern</code></td>
<td align="left"><code>nullOr (listOf str)</code></td>
<td align="left"><code>null</code></td>
<td align="left">List of file patterns (globs) to match against (e.g., <code>*.py</code>, <code>*</code>). If <code>null</code>, matches all files for the given event.</td>
<td align="left"><code>[ &quot;*.lua&quot;, &quot;*.nix&quot; ]</code></td>
</tr>
<tr>
<td align="left"><code>callback</code></td>
<td align="left"><code>nullOr luaInline</code></td>
<td align="left"><code>null</code></td>
<td align="left">A Lua function to execute when the event triggers. Use <a href="options.html#option-lib-nvim-types-luaInline" class="option-reference"><code>lib.nvim.types.luaInline</code></a> or <code>lib.options.literalExpression &quot;mkLuaInline '''...'''&quot;</code>. <strong>Cannot be used with <code>command</code>.</strong></td>
<td align="left"><code>lib.nvim.types.luaInline &quot;function() print('File saved!') end&quot;</code></td>
</tr>
<tr>
<td align="left"><code>command</code></td>
<td align="left"><code>nullOr str</code></td>
<td align="left"><code>null</code></td>
<td align="left">A Vimscript command to execute when the event triggers. <strong>Cannot be used with <code>callback</code>.</strong></td>
<td align="left"><code>&quot;echo 'File saved!'&quot;</code></td>
</tr>
<tr>
<td align="left"><code>group</code></td>
<td align="left"><code>nullOr str</code></td>
<td align="left"><code>null</code></td>
<td align="left">The name of an <code>augroup</code> (defined in <a href="options.html#option-vim-augroups" class="option-reference"><code>vim.augroups</code></a>) to associate this autocommand with.</td>
<td align="left"><code>&quot;MyCustomAuGroup&quot;</code></td>
</tr>
<tr>
<td align="left"><code>desc</code></td>
<td align="left"><code>nullOr str</code></td>
<td align="left"><code>null</code></td>
<td align="left">A description for the autocommand (useful for introspection).</td>
<td align="left"><code>&quot;Format buffer on save&quot;</code></td>
</tr>
<tr>
<td align="left"><code>once</code></td>
<td align="left"><code>bool</code></td>
<td align="left"><code>false</code></td>
<td align="left">If <code>true</code>, the autocommand runs only once and then automatically removes itself.</td>
<td align="left"><code>false</code></td>
</tr>
<tr>
<td align="left"><code>nested</code></td>
<td align="left"><code>bool</code></td>
<td align="left"><code>false</code></td>
<td align="left">If <code>true</code>, allows this autocommand to trigger other autocommands.</td>
<td align="left"><code>false</code></td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>You cannot define both <code>callback</code> (for Lua functions) and <code>command</code> (for
Vimscript) for the same autocommand. Choose one.</p>
</div>
<p><strong>Examples:</strong></p>
<pre><code class="language-nix">{ lib, ... }:
{
  vim.augroups = [ { name = &quot;UserSetup&quot;; } ];

  vim.autocmds = [
    # Example 1: Using a Lua callback
    {
      event = [ &quot;BufWritePost&quot; ];
      pattern = [ &quot;*.lua&quot; ];
      group = &quot;UserSetup&quot;;
      desc = &quot;Notify after saving Lua file&quot;;
      callback = lib.nvim.types.luaInline ''
        function()
          vim.notify(&quot;Lua file saved!&quot;, vim.log.levels.INFO)
        end
      '';
    }

    # Example 2: Using a Vim command
    {
      event = [ &quot;FileType&quot; ];
      pattern = [ &quot;markdown&quot; ];
      group = &quot;UserSetup&quot;;
      desc = &quot;Set spellcheck for Markdown&quot;;
      command = &quot;setlocal spell&quot;;
    }

    # Example 3: Autocommand without a specific group
    {
      event = [ &quot;BufEnter&quot; ];
      pattern = [ &quot;*.log&quot; ];
      desc = &quot;Disable line numbers in log files&quot;;
      command = &quot;setlocal nonumber&quot;;
      # No 'group' specified
    }

    # Example 4: Using Lua for callback
    {
      event = [ &quot;BufWinEnter&quot; ];
      pattern = [ &quot;*&quot; ];
      desc = &quot;Simple greeting on entering a buffer window&quot;;
      callback = lib.generators.mkLuaInline ''
        function(args)
          print(&quot;Entered buffer: &quot; .. args.buf)
        end
      '';
      
      # Run only once per session trigger
      once = true; 
    }
  ];
}
</code></pre>
<p>These definitions are automatically translated into the necessary Lua code to
configure <a href="options.html#option-vim-api-nvim_create_augroup" class="option-reference"><code>vim.api.nvim_create_augroup</code></a> and <a href="options.html#option-vim-api-nvim_create_autocmd" class="option-reference"><code>vim.api.nvim_create_autocmd</code></a> when
Neovim starts.</p>
</main>
      </div>

      <footer>
        <p></p>
      </footer>
    </div>

    
  </body>
</html>
